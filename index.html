<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Portfólio | Carlos Gomes</title>
  <meta name="description" content="Portfólio de Carlos Gomes — IA Generativa, Automação de Processos, Analytics e Integrações." />
  <style>
    :root{
      --bg: #0b1020;
      --bg-soft:#111735;
      --card:#121a3f88;
      --text:#e6ecff;
      --muted:#9fb0ff;
      --accent:#6d8eff;
      --accent-2:#8a5cff;
      --ring:#6d8eff33;
      --ok:#41d1a7;
      --warn:#ffcf5c;
      --danger:#ff6d8e;
      --shadow: 0 10px 25px rgba(0,0,0,.35);
    }
    .light{
      --bg:#f7f9ff;
      --bg-soft:#ffffff;
      --card:#ffffffcc;
      --text:#1c2240;
      --muted:#5f6b98;
      --accent:#365cff;
      --accent-2:#7b35ff;
      --ring:#365cff2e;
      --ok:#0e9f6e;
      --warn:#b7791f;
      --danger:#e11d48;
      --shadow: 0 10px 25px rgba(10, 30, 80, .12);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      color:var(--text);
      background:
        radial-gradient(1200px 600px at 80% -20%, #8a5cff22 0%, transparent 60%),
        radial-gradient(800px 400px at -10% 10%, #6d8eff26 0%, transparent 55%),
        linear-gradient(180deg, var(--bg) 0%, #0b1020 100%);
      background-attachment: fixed;
      scroll-behavior: smooth;
    }
    a{color:var(--accent);text-decoration:none}
    a:hover{opacity:.9}

    /* Navbar */
    .nav{
      position:sticky;top:0;z-index:50;
      backdrop-filter: blur(10px);
      background: linear-gradient(180deg, rgba(10,12,28,.75), rgba(10,12,28,.35));
      border-bottom: 1px solid #ffffff12;
    }
    .nav-inner{
      max-width:1100px;margin:auto;padding:14px 20px;display:flex;align-items:center;gap:14px;
    }
    .brand{
      display:flex;align-items:center;gap:10px;font-weight:700;letter-spacing:.3px
    }
    .brand .dot{width:10px;height:10px;border-radius:999px;background:linear-gradient(45deg,var(--accent),var(--accent-2));box-shadow:0 0 16px var(--accent)}
    .spacer{flex:1}
    .nav a.btn, .btn{
      padding:10px 14px;border:1px solid #ffffff22;border-radius:12px;background:#ffffff10;color:var(--text);
      display:inline-flex;align-items:center;gap:8px;box-shadow:var(--shadow);transition:transform .12s ease, box-shadow .2s ease, background .2s ease
    }
    .btn:hover{transform:translateY(-1px);box-shadow:0 12px 30px #00000044}
    .btn.primary{border-color:transparent;background:linear-gradient(135deg,var(--accent),var(--accent-2));color:white}
    .btn.ghost{background:transparent;border:1px solid #ffffff22}
    .controls{display:flex;gap:8px}

    /* Hero */
    .hero{
      max-width:1100px;margin:0 auto;padding:64px 20px 30px;display:grid;grid-template-columns:1.15fr .85fr;gap:32px;align-items:center
    }
    @media (max-width: 900px){ .hero{grid-template-columns:1fr; padding-top:40px}}
    .tag{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;background:#ffffff10;border:1px solid #ffffff22;font-size:.88rem;color:var(--muted)}
    .title{font-size:clamp(28px, 5vw, 46px);line-height:1.1;margin:14px 0 10px}
    .subtitle{color:var(--muted);font-size:1.05rem}
    .cta{display:flex;gap:10px;margin-top:18px;flex-wrap:wrap}
    .hero-card{
      border-radius:18px;padding:22px; border:1px solid #ffffff20;background:linear-gradient(180deg, #ffffff15, #ffffff08);
      box-shadow: var(--shadow)
    }
    .metrics{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:14px}
    .metric{padding:14px;border-radius:12px;background:var(--card);border:1px solid #ffffff22;text-align:center}
    .metric .n{font-weight:800;font-size:1.2rem}
    .metric .k{color:var(--muted);font-size:.86rem}

    /* Sections */
    section{padding:56px 20px}
    .container{max-width:1100px;margin:0 auto}
    .section-title{font-size:1.8rem;margin:0 0 16px}
    .section-sub{color:var(--muted);margin:0 0 28px}

    /* Projects */
    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
    @media (max-width: 1024px){ .grid{grid-template-columns:repeat(2,1fr)} }
    @media (max-width: 680px){ .grid{grid-template-columns:1fr} }
    .card{
      border-radius:16px;background:var(--card);border:1px solid #ffffff24;box-shadow:var(--shadow);overflow:hidden;display:flex;flex-direction:column
    }
    .thumb{
      height:160px;background:
        radial-gradient(450px 180px at 70% -20%, #6d8eff55 0%, transparent 60%),
        radial-gradient(300px 160px at -10% 20%, #8a5cff55 0%, transparent 55%),
        linear-gradient(180deg,#0f1538,#0b1020); display:flex; align-items:center; justify-content:center
    }
    .thumb svg{opacity:.8}
    .content{padding:16px 16px 6px}
    .pill{font-size:.76rem;color:var(--muted);border:1px dashed #ffffff33;border-radius:999px;padding:4px 10px;display:inline-block}
    .card h3{margin:10px 0 8px}
    .desc{color:var(--muted);font-size:.95rem}
    .chips{display:flex;gap:6px;flex-wrap:wrap;margin-top:10px}
    .chip{font-size:.75rem;padding:6px 10px;border-radius:999px;background:#ffffff12;border:1px solid #ffffff22}
    .actions{display:flex;gap:8px;padding:12px 16px 16px;margin-top:auto}
    .actions .btn{flex:1;justify-content:center}

    /* About / Career */
    .timeline{position:relative;padding-left:18px}
    .timeline:before{content:"";position:absolute;left:8px;top:0;bottom:0;width:2px;background:#ffffff22;border-radius:2px}
    .t-item{position:relative;margin:14px 0 18px}
    .t-item:before{content:"";position:absolute;left:-1px;top:.45rem;width:10px;height:10px;border-radius:50%;background:linear-gradient(45deg,var(--accent),var(--accent-2));box-shadow:0 0 10px var(--accent)}
    .t-title{font-weight:700}
    .t-sub{color:var(--muted);font-size:.92rem}

    /* Contact */
    .contact-grid{display:grid;grid-template-columns:1.2fr .8fr;gap:18px}
    @media (max-width: 900px){ .contact-grid{grid-template-columns:1fr} }
    .contact-card{border-radius:16px;background:var(--card);border:1px solid #ffffff24;box-shadow:var(--shadow);padding:18px}
    .in{width:100%;padding:12px 14px;border-radius:12px;border:1px solid #ffffff2e;background:#ffffff0a;color:var(--text);outline:none}
    .in:focus{box-shadow:0 0 0 4px var(--ring);border-color:transparent}
    textarea.in{min-height:120px;resize:vertical}
    .muted{color:var(--muted)}
    .footer{padding:30px 20px;color:var(--muted);text-align:center;border-top:1px solid #ffffff1a}

    /* Active section link */
    .nav-link{padding:8px 10px;border-radius:10px}
    .nav-link.active{background:#ffffff14;border:1px solid #ffffff2a}
  </style>
</head>
<body>
  <!-- NAV -->
  <nav class="nav">
    <div class="nav-inner">
      <div class="brand">
        <span class="dot"></span> <span id="brandName">Carlos Gomes</span>
      </div>
      <div class="spacer"></div>
      <a class="nav-link" href="#home" data-i18n="nav.home">Início</a>
      <a class="nav-link" href="#projects" data-i18n="nav.projects">Projetos</a>
      <a class="nav-link" href="#about" data-i18n="nav.about">Sobre mim</a>
      <a class="nav-link" href="#career" data-i18n="nav.career">Carreira</a>
      <a class="nav-link" href="#contact" data-i18n="nav.contact">Contato</a>
      <div class="controls">
        <button id="langBtn" class="btn ghost" aria-label="Language">EN</button>
        <button id="themeBtn" class="btn" aria-label="Theme">🌙</button>
        <a class="btn primary" href="#projects" data-i18n="cta.viewProjects">Ver projetos</a>
      </div>
    </div>
  </nav>

  <!-- HERO -->
  <header id="home" class="hero">
    <div>
      <span class="tag" data-i18n="hero.tag">IA Generativa • Automação • Integrações</span>
      <h1 class="title" data-i18n="hero.title">Crio soluções de IA e automação que simplificam operações e geram impacto real.</h1>
      <p class="subtitle" data-i18n="hero.subtitle">
        Especialista em engenharia de prompts e desenho de fluxos com IA — foco em ganhos operacionais, experiência do cliente e escalabilidade.
      </p>
      <div class="cta">
        <a class="btn primary" href="docs/Curriculo_Carlos_Henrique_Gomes.pdf" data-i18n="hero.btnCvPt">📄 Baixar CV (PT)</a>
        <a class="btn" href="docs/Carlos_Henrique_Gomes_CV_EN.pdf" data-i18n="hero.btnCvEn">📄 Download CV (EN)</a>
        <a class="btn ghost" href="https://www.linkedin.com/in/carlos-he-gomes" target="_blank">LinkedIn</a>
      </div>

      <div class="metrics">
        <div class="metric"><div class="n">10+</div><div class="k" data-i18n="m.years">anos em TI</div></div>
        <div class="metric"><div class="n">70%</div><div class="k" data-i18n="m.gain">redução média de tempo</div></div>
        <div class="metric"><div class="n">IA</div><div class="k" data-i18n="m.focus">foco em impacto</div></div>
      </div>
    </div>
    <div class="hero-card">
      <div class="pill" data-i18n="hero.card.title">O que eu faço</div>
      <ul>
        <li data-i18n="hero.card.li1">Automatizo processos com IA generativa e APIs</li>
        <li data-i18n="hero.card.li2">Desenho fluxos de bots, qualidade e onboarding</li>
        <li data-i18n="hero.card.li3">Transformo dados em indicadores e decisões</li>
      </ul>
    </div>
  </header>

  <!-- PROJECTS -->
  <section id="projects">
    <div class="container">
      <h2 class="section-title" data-i18n="projects.title">Projetos em destaque</h2>
      <p class="section-sub" data-i18n="projects.sub">
        Ordenados por valor de mercado: IA & Qualidade → BI → Onboarding → Bots → Operação.
      </p>
      <div id="projectsGrid" class="grid"></div>
    </div>
  </section>

  <!-- ABOUT -->
  <section id="about">
    <div class="container">
      <h2 class="section-title" data-i18n="about.title">Sobre mim</h2>
      <p class="section-sub" data-i18n="about.sub">
        Profissional de TI com foco em IA Generativa, Automação e Integrações. Não me defino como programador — meu forte é engenharia de prompts e orquestração de soluções com IA.
      </p>
      <div class="grid">
        <div class="card" style="padding:18px">
          <h3 data-i18n="about.h.skills">Principais habilidades</h3>
          <ul class="muted">
            <li data-i18n="about.li1">Prompt engineering e estratégia de IA</li>
            <li data-i18n="about.li2">Desenho de fluxos (bots, onboarding, qualidade)</li>
            <li data-i18n="about.li3">Integração de APIs e automações</li>
            <li data-i18n="about.li4">Transformar dados em decisões (dashboards/indicadores)</li>
          </ul>
        </div>
        <div class="card" style="padding:18px">
          <h3 data-i18n="about.h.values">Valores</h3>
          <p class="muted" data-i18n="about.values">
            Tecnologia deve servir à experiência humana — simplicidade, velocidade e clareza na entrega.
          </p>
        </div>
        <div class="card" style="padding:18px">
          <h3>Stack</h3>
          <p class="muted">Python, Flask, HTML/CSS/JS, REST APIs, LLMs (OpenAI), SQLite/Metabase</p>
        </div>
      </div>
    </div>
  </section>

  <!-- CAREER -->
  <section id="career">
    <div class="container">
      <h2 class="section-title" data-i18n="career.title">Carreira</h2>
    <div class="timeline">
      <div class="t-item">
        <div class="t-title"> Hi Platform — <span class="muted">Analista de Customer Care | 2021–Atual</span></div>
        <div class="t-sub" data-i18n="career.hi">
          IA generativa em rotinas, otimização de fluxos de chatbot, integrações via API, e soluções internas de automação e analytics.
        </div>
      </div>
      <div class="t-item">
        <div class="t-title"> Grupo Semar — <span class="muted">Técnico de TI | 2018–2021</span></div>
        <div class="t-sub" data-i18n="career.semar">
          Suporte a infraestrutura, implantação de ferramentas para agilizar workflows e automatizar tarefas manuais.
        </div>
      </div>
    </div>
    </div>
  </section>

  <!-- CONTACT -->
  <section id="contact">
    <div class="container">
      <h2 class="section-title" data-i18n="contact.title">Contato</h2>
      <p class="section-sub">LinkedIn • Email</p>
      <div class="contact-grid">
        <div class="contact-card">
          <form onsubmit="sendMsg(event)">
            <div style="display:grid;gap:10px">
              <input class="in" type="text" name="name" placeholder="Seu nome" required />
              <input class="in" type="email" name="email" placeholder="Seu e-mail" required />
              <textarea class="in" name="message" placeholder="Sua mensagem" required></textarea>
              <button class="btn primary" type="submit" data-i18n="contact.send">Enviar mensagem</button>
            </div>
          </form>
          <p class="muted" style="margin-top:10px" data-i18n="contact.note">Este formulário é um mock. Personalize a ação via e-mail/API.</p>
        </div>
        <div class="contact-card">
          <h3>Links</h3>
          <p class="muted"><a href="https://www.linkedin.com/in/carlos-he-gomes" target="_blank">linkedin.com/in/carlos-he-gomes</a></p>
          <p class="muted"><a href="mailto:carloshegomes@outlook.com">carloshegomes@outlook.com</a></p>
          <p class="muted"><a href="#projects" data-i18n="cta.viewProjects">Ver projetos</a></p>
        </div>
      </div>
    </div>
  </section>

  <footer class="footer">
    <div>Portfólio — Carlos Gomes • <span id="year"></span></div>
  </footer>

  <!-- MODAL -->
<div id="previewModal" style="position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.55);z-index:9999">
  <div style="width:min(1100px,95vw);height:min(80vh,900px);background:#0b1020;border:1px solid #ffffff22;border-radius:16px;box-shadow:0 20px 60px #00000066;display:flex;flex-direction:column;overflow:hidden">
    <div style="display:flex;align-items:center;justify-content:space-between;padding:10px 12px;border-bottom:1px solid #ffffff22;background:#121a3f88">
      <strong id="modalTitle" style="color:#e6ecff">Preview</strong>
      <div style="display:flex;gap:8px">
        <a id="modalOpenTab" class="btn" style="text-decoration:none;padding:8px 12px;border-radius:10px;border:1px solid #ffffff22;background:#ffffff10;color:#e6ecff" target="_blank" data-i18n="btn.openNewTab">Abrir em nova aba</a>
        <button type="button" onclick="closePreview()" class="btn" style="padding:8px 12px;border-radius:10px;border:1px solid #ffffff22;background:#ffffff10;color:#e6ecff" data-i18n="btn.close">Fechar</button>
      </div>
    </div>
    <iframe id="modalFrame" src="" style="flex:1;border:0;background:#000"></iframe>
  </div>
</div>


  <script>
    // Smooth active link highlight
    const links = document.querySelectorAll('.nav-link');
    const sections = [...document.querySelectorAll('section, header')];
    const obs = new IntersectionObserver(entries => {
      entries.forEach(e => {
        if (e.isIntersecting) {
          links.forEach(l=>l.classList.remove('active'));
          const id = e.target.getAttribute('id');
          const active = document.querySelector(`.nav a[href="#${id}"]`);
          if(active) active.classList.add('active');
        }
      });
    }, {rootMargin:'-40% 0px -50% 0px', threshold: .1});
    sections.forEach(s=>obs.observe(s));

    // Year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Theme toggle with persistence
    const themeBtn = document.getElementById('themeBtn');
    const saved = localStorage.getItem('theme');
    if(saved === 'light'){ document.body.classList.add('light'); themeBtn.textContent='🌙'; }
    themeBtn.addEventListener('click', ()=>{
      document.body.classList.toggle('light');
      const isLight = document.body.classList.contains('light');
      themeBtn.textContent = isLight ? '🌙' : '☀️';
      localStorage.setItem('theme', isLight ? 'light' : 'dark');
    });

    // Language toggle (PT/EN) with i18n dictionary
    const i18n = {
      pt:{
        "nav.home":"Início","nav.projects":"Projetos","nav.about":"Sobre mim","nav.career":"Carreira","nav.contact":"Contato",
        "cta.viewProjects":"Ver projetos",
        "hero.tag":"IA Generativa • Automação • Integrações",
        "hero.title":"Crio soluções de IA e automação que simplificam operações e geram impacto real.",
        "hero.subtitle":"Especialista em engenharia de prompts e desenho de fluxos com IA — foco em ganhos operacionais, experiência do cliente e escalabilidade.",
        "hero.btnCvPt":"📄 Baixar CV (PT)","hero.btnCvEn":"📄 Download CV (EN)",
        "m.years":"anos em TI","m.gain":"redução média de tempo","m.focus":"foco em impacto",
        "hero.card.title":"O que eu faço",
        "hero.card.li1":"Automatizo processos com IA generativa e APIs",
        "hero.card.li2":"Desenho fluxos de bots, qualidade e onboarding",
        "hero.card.li3":"Transformo dados em indicadores e decisões",
        "projects.title":"Projetos em destaque",
        "projects.sub":"Ordenados por valor de mercado: IA & Qualidade → BI → Onboarding → Bots → Operação.",
        "p.qa.desc":"Assistente generativo para auditoria de interações, com análise de sentimento, checklist e recomendações acionáveis.",
        "p.bi.desc":"Plataforma de BI fim a fim com ingestão via APIs, transformação e dashboards em tempo quase real — substituindo soluções terceiras.",
        "p.onb.desc":"Portal interativo com formulários dinâmicos, etapas guiadas e personalização visual para acelerar a ativação de clientes.",
        "p.bot.desc":"Orquestrador visual para importar/editar/exportar fluxos de decisão com suporte multi-plataforma e agrupamentos.",
        "p.vac.desc":"Gestão de férias/folgas com calendário global, regras por squads e painéis para operações.",
        "p.chm.desc":"Monitoramento de risco de churn, planos de ação e indicadores visuais para times de sucesso do cliente.",
        "p.api.desc":"Coleção de APIs para automações: OCR, validações, formatação e integrações.",
        "about.title":"Sobre mim","about.sub":"Profissional de TI com foco em IA Generativa, Automação e Integrações. Não me defino como programador — meu forte é engenharia de prompts e orquestração de soluções com IA.",
        "about.h.skills":"Principais habilidades",
        "about.li1":"Prompt engineering e estratégia de IA","about.li2":"Desenho de fluxos (bots, onboarding, qualidade)","about.li3":"Integração de APIs e automações","about.li4":"Transformar dados em decisões (dashboards/indicadores)",
        "about.h.values":"Valores","about.values":"Tecnologia deve servir à experiência humana — simplicidade, velocidade e clareza na entrega.",
        "career.title":"Carreira",
        "career.hi":"IA generativa em rotinas, otimização de fluxos de chatbot, integrações via API, e soluções internas de automação e analytics.",
        "career.semar":"Suporte a infraestrutura, implantação de ferramentas para agilizar workflows e automatizar tarefas manuais.",
        "contact.title":"Contato","contact.send":"Enviar mensagem","contact.note":"Este formulário é um mock. Personalize a ação via e-mail/API.",
        "btn.page":"Página","btn.example":"Abrir exemplo","btn.openNewTab":"Abrir em nova aba","btn.close":"Fechar"
      },
      en:{
        "nav.home":"Home","nav.projects":"Projects","nav.about":"About","nav.career":"Career","nav.contact":"Contact",
        "cta.viewProjects":"View projects",
        "hero.tag":"Generative AI • Automation • Integrations",
        "hero.title":"I build AI & automation solutions that simplify operations and drive real impact.",
        "hero.subtitle":"Prompt-engineering specialist designing AI-powered flows — focused on operational gains, customer experience and scale.",
        "hero.btnCvPt":"📄 Download CV (PT)","hero.btnCvEn":"📄 Download CV (EN)",
        "m.years":"years in IT","m.gain":"average time reduction","m.focus":"impact-driven",
        "hero.card.title":"What I do",
        "hero.card.li1":"Automate processes with GenAI and APIs",
        "hero.card.li2":"Design flows for bots, quality and onboarding",
        "hero.card.li3":"Turn data into indicators & decisions",
        "projects.title":"Featured Projects",
        "projects.sub":"Ordered by market value: Quality & AI → BI → Onboarding → Bots → Ops.",
        "p.qa.desc":"Generative assistant to audit interactions with sentiment, checklist and actionable recommendations.",
        "p.bi.desc":"End-to-end BI platform with API ingestion, transforms and near real-time dashboards — replacing third-party tools.",
        "p.onb.desc":"Interactive portal with dynamic forms, guided steps and branding to accelerate client activation.",
        "p.bot.desc":"Visual orchestrator to import/edit/export decision flows with multi-platform support and grouping.",
        "p.vac.desc":"Vacation/leave management with global calendar, squad rules and ops dashboards.",
        "p.chm.desc":"Churn-risk monitoring, action plans and visual indicators for customer success teams.",
        "p.api.desc":"API collection for automation: OCR, validations, formatting and integrations.",
        "about.title":"About me","about.sub":"IT professional focused on GenAI, Automation and Integrations. I don’t label myself a programmer — my strength is prompt engineering and AI orchestration.",
        "about.h.skills":"Key skills",
        "about.li1":"Prompt engineering & AI strategy","about.li2":"Flow design (bots, onboarding, quality)","about.li3":"API integration & automations","about.li4":"Turning data into decisions (dashboards/KPIs)",
        "about.h.values":"Values","about.values":"Tech must enhance the human experience — clarity, speed and simplicity.",
        "career.title":"Career",
        "career.hi":"GenAI in routines, chatbot flow optimization, API integrations, internal automation & analytics solutions.",
        "career.semar":"Infrastructure support, tool adoption to speed workflows and automate manual tasks.",
        "contact.title":"Contact","contact.send":"Send message","contact.note":"This form is a mock. Hook it to email/API as needed.",
        "btn.page":"Page","btn.example":"Open example","btn.openNewTab":"Open in new tab","btn.close":"Close"
      }
    };
    let currentLang = localStorage.getItem('lang') || (navigator.language.startsWith('pt') ? 'pt' : 'en');
    const langBtn = document.getElementById('langBtn');

    function applyLang(lang){
      document.documentElement.lang = lang === 'pt' ? 'pt-BR' : 'en';
      langBtn.textContent = lang === 'pt' ? 'EN' : 'PT';
      document.querySelectorAll('[data-i18n]').forEach(el=>{
        const key = el.dataset.i18n;
        if(i18n[lang][key]) el.textContent = i18n[lang][key];
      });
      localStorage.setItem('lang', lang);
      currentLang = lang;
    }
    applyLang(currentLang);
    langBtn.addEventListener('click', ()=> applyLang(currentLang === 'pt' ? 'en' : 'pt'));

    // Mock form
    function sendMsg(e){
      e.preventDefault();
      const form = e.target;
      const name = form.name.value.trim();
      form.reset();
      alert((currentLang==='pt'?'Obrigado, ':'Thanks, ') + name + '!');
    }

    // ===== Catálogo de projetos (ajuste slugs conforme nomes de pasta em /projects) =====
    const PROJECTS = [
    {
      slug: 'quality-ai',
      title: 'Quality AI Assistant',
      pill: 'AI • Quality • CX',
      desc_pt: 'Assistente generativo para auditoria de interações, com análise de sentimento e recomendações.',
      desc_en: 'Generative assistant for auditing interactions with sentiment and recommendations.',
      chips: ['Python','OpenAI','APIs']
    },
    {
      slug: 'bi-analytics',
      title: 'BI Analytics Platform',
      pill: 'BI • Analytics',
      desc_pt: 'Plataforma de BI com ingestão via APIs e dashboards quase em tempo real.',
      desc_en: 'BI platform with API ingestion and near real-time dashboards.',
      chips: ['Python','Flask','Metabase']
    },
    {
      slug: 'onboarding',
      title: 'Customer Onboarding Portal',
      pill: 'Onboarding • UX',
      desc_pt: 'Portal com formulários dinâmicos, etapas guiadas e personalização visual.',
      desc_en: 'Portal with dynamic forms, guided steps and branding.',
      chips: ['Flask','HTML','CSS/JS']
    },
    {
      slug: 'botflow',
      title: 'BotFlow Orchestrator',
      pill: 'Bots • Flows',
      desc_pt: 'Orquestrador visual para fluxos multi-plataforma com import/export.',
      desc_en: 'Visual orchestrator with multi-platform import/export.',
      chips: ['Python','Draw.io/YEd','Connectors']
    },
    {
      slug: 'vacation',
      title: 'Vacation & Leave Manager',
      pill: 'Ops • HR',
      desc_pt: 'Gestão de férias/folgas com calendário global, regras por squads e painéis.',
      desc_en: 'Vacation/leave management with global calendar, squad rules and dashboards.',
      chips: ['Python','Flask','HTML/CSS']
    },
    {
      slug: 'client-health',
      title: 'Client Health Monitor',
      pill: 'CS • Retention',
      desc_pt: 'Risco de churn, plano de ação e indicadores visuais.',
      desc_en: 'Churn risk, action plan and visual indicators.',
      chips: ['Python','Flask','JSON']
    },
    {
      slug: 'utility-apis',
      title: 'Utility APIs',
      pill: 'Ops • APIs',
      desc_pt: 'Coleção de APIs para automações: OCR, validações, formatação e integrações.',
      desc_en: 'API collection for automation: OCR, validations, formatting and integrations.',
      chips: ['Python','Flask','REST']
    }
  ];

    // Renderização de cards
    function projectCard(p){
      const lang = (localStorage.getItem('lang') || (navigator.language.startsWith('pt')?'pt':'en'));
      const desc = lang==='pt' ? p.desc_pt : p.desc_en;
      return `
      <article class="card">
        <div class="thumb" aria-hidden="true">
          <!-- Troque por uma imagem real quando quiser: <img src="assets/img/${p.slug}.jpg" alt="${p.title}" loading="lazy" style="width:100%;height:160px;object-fit:cover"> -->
          <svg width="96" height="96" viewBox="0 0 24 24" fill="none"><path d="M4 6h16M4 12h16M4 18h16" stroke="white" opacity=".8" stroke-width="2"/></svg>
        </div>
        <div class="content">
          <span class="pill">${p.pill}</span>
          <h3>${p.title}</h3>
          <p class="desc">${desc}</p>
          <div class="chips">${p.chips.map(c=>`<span class="chip">${c}</span>`).join('')}</div>
        </div>
        <div class="actions">
          <button class="btn" onclick="location.href='projects/${p.slug}/'" data-i18n="btn.page">${i18n[currentLang]?.['btn.page']||'Página'}</button>
          <button class="btn primary" onclick="openPreview('${p.title}','${p.slug}')" data-i18n="btn.example">${i18n[currentLang]?.['btn.example']||'Abrir exemplo'}</button>
        </div>
      </article>`;
    }

    function renderProjects(){
      const grid = document.getElementById('projectsGrid');
      if(!grid) return;
      grid.innerHTML = PROJECTS.map(projectCard).join('');
    }
    renderProjects();

    // Re-render ao trocar idioma
    const _applyLang = applyLang;
    applyLang = function(lang){ _applyLang(lang); renderProjects(); }


    function closePreview(){
    const m = document.getElementById('previewModal');
    const f = document.getElementById('modalFrame');
    if (!m) return;
    m.style.display = 'none';
    f.src = '';
    document.body.style.overflow = '';
    window.removeEventListener('keydown', __escClose);
    m.removeEventListener('click', __backdropClose);
  }

  function __escClose(e){ if(e.key === 'Escape') closePreview(); }
  function __backdropClose(e){ if(e.target.id === 'previewModal') closePreview(); }

    // Modal preview
    async function openPreview(title, slug){
    const m = document.getElementById('previewModal');
    const f = document.getElementById('modalFrame');
    const t = document.getElementById('modalTitle');
    const a = document.getElementById('modalOpenTab');

    t.textContent = title || 'Preview';

    // tenta example.html primeiro; se 404, usa embedded.html
    const base = `projects/${slug}`;
    const exampleURL = `${base}/example.html`;
    const embeddedURL = `${base}/embedded.html`;

    try {
      const res = await fetch(exampleURL, { method: 'HEAD' });
      const url = res.ok ? exampleURL : embeddedURL;
      f.src = url;
      a.href = url;
    } catch (e) {
      f.src = embeddedURL;
      a.href = embeddedURL;
    }

    m.style.display = 'flex';
    document.body.style.overflow = 'hidden';
  }
  </script>
</body>
</html>




