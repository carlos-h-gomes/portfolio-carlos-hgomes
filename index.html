<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Portf√≥lio | Carlos Gomes</title>
  <meta name="description" content="Portf√≥lio de Carlos Gomes ‚Äî IA Generativa, Automa√ß√£o de Processos, Analytics e Integra√ß√µes." />
  <style>
    :root{
      --bg: #0b1020;
      --bg-soft:#111735;
      --card:#121a3f88;
      --text:#e6ecff;
      --muted:#9fb0ff;
      --accent:#6d8eff;
      --accent-2:#8a5cff;
      --ring:#6d8eff33;
      --ok:#41d1a7;
      --warn:#ffcf5c;
      --danger:#ff6d8e;
      --shadow: 0 10px 25px rgba(0,0,0,.35);
    }
    .light{
      --bg:#f7f9ff;
      --bg-soft:#ffffff;
      --card:#ffffffcc;
      --text:#1c2240;
      --muted:#5f6b98;
      --accent:#365cff;
      --accent-2:#7b35ff;
      --ring:#365cff2e;
      --ok:#0e9f6e;
      --warn:#b7791f;
      --danger:#e11d48;
      --shadow: 0 10px 25px rgba(10, 30, 80, .12);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      color:var(--text);
      background:
        radial-gradient(1200px 600px at 80% -20%, #8a5cff22 0%, transparent 60%),
        radial-gradient(800px 400px at -10% 10%, #6d8eff26 0%, transparent 55%),
        linear-gradient(180deg, var(--bg) 0%, #0b1020 100%);
      background-attachment: fixed;
      scroll-behavior: smooth;
    }
    a{color:var(--accent);text-decoration:none}
    a:hover{opacity:.9}

    /* Navbar */
    .nav{
      position:sticky;top:0;z-index:50;
      backdrop-filter: blur(10px);
      background: linear-gradient(180deg, rgba(10,12,28,.75), rgba(10,12,28,.35));
      border-bottom: 1px solid #ffffff12;
    }
    .nav-inner{
      max-width:1100px;margin:auto;padding:14px 20px;display:flex;align-items:center;gap:14px;
    }
    .brand{
      display:flex;align-items:center;gap:10px;font-weight:700;letter-spacing:.3px
    }
    .brand .dot{width:10px;height:10px;border-radius:999px;background:linear-gradient(45deg,var(--accent),var(--accent-2));box-shadow:0 0 16px var(--accent)}
    .spacer{flex:1}
    .nav a.btn, .btn{
      padding:10px 14px;border:1px solid #ffffff22;border-radius:12px;background:#ffffff10;color:var(--text);
      display:inline-flex;align-items:center;gap:8px;box-shadow:var(--shadow);transition:transform .12s ease, box-shadow .2s ease, background .2s ease
    }
    .btn:hover{transform:translateY(-1px);box-shadow:0 12px 30px #00000044}
    .btn.primary{border-color:transparent;background:linear-gradient(135deg,var(--accent),var(--accent-2));color:white}
    .btn.ghost{background:transparent;border:1px solid #ffffff22}
    .controls{display:flex;gap:8px}

    /* ===== MOBILE MENU: esconder links no mobile e mostrar hamb√∫rguer ===== */
    .nav-links{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    #menuBtn{display:none}
    @media (max-width: 860px){
      .nav-links{display:none}
      #menuBtn{display:inline-flex}
      .controls{display:none} /* controles v√£o para o menu m√≥vel */
    }

    /* Hero */
    .hero{
      max-width:1100px;margin:0 auto;padding:64px 20px 30px;display:grid;grid-template-columns:1.15fr .85fr;gap:32px;align-items:center
    }
    @media (max-width: 900px){ .hero{grid-template-columns:1fr; padding-top:40px}}
    .tag{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;background:#ffffff10;border:1px solid #ffffff22;font-size:.88rem;color:var(--muted)}
    .title{font-size:clamp(28px, 5vw, 46px);line-height:1.1;margin:14px 0 10px}
    .subtitle{color:var(--muted);font-size:1.05rem}
    .cta{display:flex;gap:10px;margin-top:18px;flex-wrap:wrap}
    .hero-card{
      border-radius:18px;padding:22px; border:1px solid #ffffff20;background:linear-gradient(180deg, #ffffff15, #ffffff08);
      box-shadow: var(--shadow)
    }
    .metrics{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:14px}
    .metric{padding:14px;border-radius:12px;background:var(--card);border:1px solid #ffffff22;text-align:center}
    .metric .n{font-weight:800;font-size:1.2rem}
    .metric .k{color:var(--muted);font-size:.86rem}

    /* Sections */
    section{padding:56px 20px}
    .container{max-width:1100px;margin:0 auto}
    .section-title{font-size:1.8rem;margin:0 0 16px}
    .section-sub{color:var(--muted);margin:0 0 28px}

    /* Projects */
    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
    @media (max-width: 1024px){ .grid{grid-template-columns:repeat(2,1fr)} }
    @media (max-width: 680px){ .grid{grid-template-columns:1fr} }
    .card{
      border-radius:16px;background:var(--card);border:1px solid #ffffff24;box-shadow:var(--shadow);overflow:hidden;display:flex;flex-direction:column
    }
    .thumb{
      height:160px;background:
        radial-gradient(450px 180px at 70% -20%, #6d8eff55 0%, transparent 60%),
        radial-gradient(300px 160px at -10% 20%, #8a5cff55 0%, transparent 55%),
        linear-gradient(180deg,#0f1538,#0b1020); display:flex; align-items:center; justify-content:center
    }
    .thumb svg{opacity:.8}
    .content{padding:16px 16px 6px}
    .pill{font-size:.76rem;color:var(--muted);border:1px dashed #ffffff33;border-radius:999px;padding:4px 10px;display:inline-block}
    .card h3{margin:10px 0 8px}
    .desc{color:var(--muted);font-size:.95rem}
    .chips{display:flex;gap:6px;flex-wrap:wrap;margin-top:10px}
    .chip{font-size:.75rem;padding:6px 10px;border-radius:999px;background:#ffffff12;border:1px solid #ffffff22}
    .actions{display:flex;gap:8px;padding:12px 16px 16px;margin-top:auto}
    .actions .btn{flex:1;justify-content:center}

    /* About / Career ‚Äî corrigido */
    .timeline{position:relative; padding-left:22px}
    .timeline:before{
      content:""; position:absolute; left:8px; top:0; bottom:0;
      width:2px; background:#ffffff22; border-radius:2px;
    }
    .t-item{position:relative; margin:14px 0 18px; padding-left:6px}
    .t-item:before{
      content:""; position:absolute; left:-8px; top:.6rem;
      width:10px; height:10px; border-radius:50%;
      background:linear-gradient(45deg,var(--accent),var(--accent-2));
      box-shadow:0 0 10px var(--accent);
    }
    .t-title{font-weight:700}
    .t-sub{color:var(--muted);font-size:.92rem}

    /* Contact */
    .contact-grid{display:grid;grid-template-columns:1.2fr .8fr;gap:18px}
    @media (max-width: 900px){ .contact-grid{grid-template-columns:1fr} }
    .contact-card{border-radius:16px;background:var(--card);border:1px solid #ffffff24;box-shadow:var(--shadow);padding:18px}
    .in{width:100%;padding:12px 14px;border-radius:12px;border:1px solid #ffffff2e;background:#ffffff0a;color:var(--text);outline:none}
    .in:focus{box-shadow:0 0 0 4px var(--ring);border-color:transparent}
    textarea.in{min-height:120px;resize:vertical}
    .muted{color:var(--muted)}
    .footer{padding:30px 20px;color:var(--muted);text-align:center;border-top:1px solid #ffffff1a}

    /* Active section link */
    .nav-link{padding:8px 10px;border-radius:10px}
    .nav-link.active{background:#ffffff14;border:1px solid #ffffff2a}

    /* Contact tiles */
    .contact-tiles{display:grid;grid-template-columns: repeat(3, 1fr);gap:18px}
    @media (max-width: 768px){ .contact-tiles{grid-template-columns:1fr} }
    .contact-tile{
      position: relative;border-radius: 16px;background: var(--card);
      border: 1px solid #ffffff22;box-shadow: var(--shadow);
      padding: 22px 18px;overflow: hidden;transform-style: preserve-3d;
      transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease;
    }
    .contact-tile:hover{transform: translateY(-4px) scale(1.01);box-shadow: 0 20px 40px rgba(0,0,0,.45);border-color: #ffffff44}
    .contact-tile::before{
      content:""; position:absolute; inset:-1px;border-radius:16px;
      background: conic-gradient(from 0deg, rgba(141, 160, 255, .14), rgba(169, 120, 255, .18), rgba(141, 160, 255, .14));
      mask: linear-gradient(#000,#000) content-box, linear-gradient(#000,#000);
      -webkit-mask: linear-gradient(#000,#000) content-box, linear-gradient(#000,#000);
      padding:1px;opacity:.65;animation: spin 6s linear infinite;pointer-events:none;
    }
    @keyframes spin { to { transform: rotate(360deg); } }
    @media (prefers-reduced-motion: reduce){
      .contact-tile::before{ animation: none; }
      .contact-tile:hover{ transform:none; }
    }
    .contact-icon{
      width:48px;height:48px;border-radius:999px;display:grid;place-items:center;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      color:#fff;font-size:22px;line-height:1;box-shadow: 0 8px 24px rgba(0,0,0,.28);transition: transform .2s ease;
      margin-bottom: 10px;
    }
    .card:hover .contact-icon{ transform: translateY(-2px) }
    .contact-tile h3{ margin:6px 0 4px }
    .contact-tile p{ margin:0 0 12px; color: var(--muted) }
    .contact-tile .btn{ width:100%; justify-content:center }
    .btn.whatsapp{ background:#25D366; border-color:transparent; color:#001; }
    .btn.linkedin{ background:#0077B5; border-color:transparent; }

    /* ======= MOBILE-FIRST & REFINOS ======= */
    .container{padding-left:min(5vw,20px);padding-right:min(5vw,20px)}
    @media (max-width: 900px){
      .hero{grid-template-columns:1fr; gap:20px; padding:32px 16px 20px}
      .title{font-size:clamp(24px, 6vw, 40px)}
      .subtitle{font-size:1rem}
      .cta .btn{width:100%; justify-content:center}
      .metrics{grid-template-columns:repeat(2,1fr)}
    }
    @media (max-width: 520px){
      .metrics{grid-template-columns:1fr}
    }
    @media (max-width: 860px){
      .nav-inner{flex-wrap:nowrap; gap:10px}
    }
    @media (max-width: 900px){
      section{padding:36px 0}
      .section-title{font-size:1.5rem}
      .section-sub{font-size:.98rem}
    }
    @media (max-width: 1024px){ .grid{grid-template-columns:repeat(2,1fr)} }
    @media (max-width: 680px){
      .grid{grid-template-columns:1fr}
      .card{border-radius:14px}
      .content{padding:14px}
      .actions{padding:10px 14px 14px}
    }
    .thumb img{width:100%; height:160px; object-fit:cover; display:block}
    @media (max-width: 520px){
      .thumb{height:140px}
      .thumb img{height:140px}
      .timeline{padding-left:20px}
      .t-item:before{left:-10px}
    }

    /* ===== Anti-overflow mobile ===== */
    html, body{ overflow-x: hidden; }
    .nav-inner > *, .controls, .brand,
    .grid > *, .card, .footer-full__inner > *,
    .ff-col, .ff-actions, .ff-contact { min-width: 0; }
    a, .desc, .ff-chip, .actions a, .contact-tile .btn {
      overflow-wrap: anywhere; word-break: break-word;
    }
    img, svg, video { max-width: 100%; height: auto; }
    .nav-inner, .grid, .footer-full__inner { overflow-x: clip; }

    /* ===== FOOTER STRIP ===== */
    .footer-strip{
      margin-top:40px;border-top:1px solid #ffffff1a;
      background:
        radial-gradient(500px 160px at 100% 0%, #8a5cff22 0%, transparent 60%),
        radial-gradient(500px 160px at 0% 100%, #6d8eff22 0%, transparent 55%),
        linear-gradient(180deg, #0d1230, #0a0f26);
    }
    .footer-strip.sticky{ position:sticky; bottom:0; z-index:40; }
    .footer-strip__inner{
      max-width:1100px; margin:0 auto; padding:10px 16px;
      display:grid; grid-template-columns: 1.1fr 1fr 1.2fr; gap:10px; align-items:center;
    }
    .fs-left{display:flex; align-items:center; gap:10px; min-width:0}
    .fs-left .dot{width:10px;height:10px;border-radius:999px;background:linear-gradient(45deg,var(--accent),var(--accent-2));box-shadow:0 0 16px var(--accent)}
    .fs-muted{color:var(--muted); opacity:.9; white-space:nowrap; overflow:hidden; text-overflow:ellipsis}
    .fs-nav{display:flex; align-items:center; justify-content:center; gap:12px; flex-wrap:wrap}
    .fs-link{color:var(--text); opacity:.9}
    .fs-link:hover{opacity:1; text-decoration:underline}
    .fs-actions{display:flex; align-items:center; justify-content:flex-end; gap:8px; flex-wrap:wrap}
    .footer-strip__bar{border-top:1px solid #ffffff1a; color:var(--muted);display:flex; align-items:center; justify-content:space-between;padding:8px 16px; font-size:.92rem;}
    @media (max-width: 960px){
      .footer-strip__inner{grid-template-columns: 1fr; row-gap:10px}
      .fs-left{justify-content:flex-start}
      .fs-nav{justify-content:flex-start}
      .fs-actions{justify-content:flex-start}
    }
    .footer-strip.sticky + * { scroll-margin-bottom: 80px; }

    .footer-full{
      width:100%;margin-top:56px;
      background:
        radial-gradient(800px 260px at 90% 0%, #8a5cff22 0%, transparent 60%),
        radial-gradient(700px 260px at 0% 100%, #6d8eff22 0%, transparent 55%),
        linear-gradient(180deg, #0c1233, #0a0f26 65%, #0a0f26 100%);
      border-top:1px solid #ffffff1a;color:var(--text);
    }
    .footer-full__inner{
      max-width:1100px;margin:0 auto;padding:28px 20px 34px;
      display:grid;grid-template-columns: 1.1fr 1fr 1.2fr;gap:22px;align-items:flex-start;
    }
    .ff-col{display:flex;flex-direction:column;gap:10px}
    .ff-title{margin:0 0 6px;font-size:.95rem;letter-spacing:.3px;color:var(--muted)}
    .ff-link{color:var(--text);opacity:.9;margin:2px 0}
    .ff-link:hover{opacity:1;text-decoration:underline}
    .ff-muted{color:var(--muted);margin:6px 0 0}
    .ff-copy{color:var(--muted);opacity:.9;margin:0}
    .ff-actions{display:flex;flex-wrap:wrap;gap:8px}
    .ff-contact{display:flex;flex-wrap:wrap;gap:8px}
    .ff-chip{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:999px;border:1px solid #ffffff22;background:#ffffff10;}
    .ff-chip:hover{background:#ffffff14}
    @media (max-width: 980px){ .footer-full__inner{grid-template-columns:1fr 1fr; gap:18px} }
    @media (max-width: 680px){ .footer-full__inner{grid-template-columns:1fr} }
    .footer-full .brand{display:flex;align-items:center;gap:10px}
    .footer-full .brand .dot{width:10px;height:10px;border-radius:999px;background:linear-gradient(45deg,var(--accent),var(--accent-2));box-shadow:0 0 16px var(--accent);}

    /* ===== MOBILE MENU MODAL ===== */
    #mobileMenu{
      position:fixed; inset:0; display:none; z-index:9999;
      background:rgba(0,0,0,.55);
    }
    #mobileMenu[aria-hidden="false"]{ display:block; }
    .m-sheet{
      position:absolute; right:0; top:0; bottom:0; width:min(90vw,420px);
      background:var(--bg-soft); border-left:1px solid #ffffff22;
      box-shadow: -10px 0 30px rgba(0,0,0,.4);
      display:flex; flex-direction:column;
      transform: translateX(100%); transition: transform .25s ease;
    }
    #mobileMenu[aria-hidden="false"] .m-sheet{ transform: translateX(0); }
    .m-header{
      display:flex; align-items:center; justify-content:space-between; gap:8px;
      padding:14px 16px; border-bottom:1px solid #ffffff22; background:#121a3f88;
    }
    .m-content{
      padding:16px; display:flex; flex-direction:column; gap:10px; overflow:auto;
    }
    .m-links a{padding:12px 10px;border-radius:12px;background:#ffffff0e;border:1px solid #ffffff1f;display:flex;align-items:center;gap:10px}
    .m-links a:active{transform:translateY(1px)}
    .m-controls{display:flex; gap:8px; margin-top:8px; flex-wrap:wrap}
  </style>
</head>
<body>
  <!-- NAV -->
  <nav class="nav">
    <div class="nav-inner">
      <button id="menuBtn" class="btn" aria-label="Abrir menu" aria-haspopup="dialog" aria-controls="mobileMenu">‚ò∞</button>
      <div class="brand">
        <span class="dot"></span> <span id="brandName">Carlos Gomes</span>
      </div>
      <div class="spacer"></div>

      <!-- links que somem no mobile -->
      <div class="nav-links" role="navigation" aria-label="Principal">
        <a class="nav-link" href="#home" data-i18n="nav.home">In√≠cio</a>
        <a class="nav-link" href="#about" data-i18n="nav.about">Sobre mim</a>
        <a class="nav-link" href="#career" data-i18n="nav.career">Carreira</a>
        <a class="nav-link" href="#contact" data-i18n="nav.contact">Contato</a>
      </div>

      <div class="controls">
        <button id="langBtn" class="btn ghost" aria-label="Language">EN</button>
        <button id="themeBtn" class="btn" aria-label="Theme">üåô</button>
        <a class="btn primary" href="#projects" data-i18n="cta.viewProjects">Ver projetos</a>
      </div>
    </div>
  </nav>

  <!-- HERO -->
  <header id="home" class="hero">
    <div>
      <span class="tag" data-i18n="hero.tag">IA Generativa ‚Ä¢ Automa√ß√£o ‚Ä¢ Integra√ß√µes</span>
      <h1 class="title" data-i18n="hero.title">Crio solu√ß√µes de IA e automa√ß√£o que simplificam opera√ß√µes e geram impacto real.</h1>
      <p class="subtitle" data-i18n="hero.subtitle">
        Especialista em engenharia de prompts e desenho de fluxos com IA ‚Äî foco em ganhos operacionais, experi√™ncia do cliente e escalabilidade.
      </p>
      <div class="cta">
        <a class="btn primary" href="docs/Curriculo_Carlos_Henrique_Gomes.pdf" data-i18n="hero.btnCvPt">üìÑ Baixar CV (PT)</a>
        <a class="btn" href="docs/Carlos_Henrique_Gomes_CV_EN.pdf" data-i18n="hero.btnCvEn">üìÑ Download CV (EN)</a>
        <a class="btn ghost" href="https://www.linkedin.com/in/carlos-he-gomes" target="_blank" rel="noopener">LinkedIn</a>
      </div>

      <div class="metrics">
        <div class="metric"><div class="n">10+</div><div class="k" data-i18n="m.years">anos em TI</div></div>
        <div class="metric"><div class="n">70%</div><div class="k" data-i18n="m.gain">redu√ß√£o m√©dia de tempo</div></div>
        <div class="metric"><div class="n">IA</div><div class="k" data-i18n="m.focus">foco em impacto</div></div>
      </div>
    </div>
    <div class="hero-card">
      <div class="pill" data-i18n="hero.card.title">O que eu fa√ßo</div>
      <ul>
        <li data-i18n="hero.card.li1">Automatizo processos com IA generativa e APIs</li>
        <li data-i18n="hero.card.li2">Desenho fluxos de bots, qualidade e onboarding</li>
        <li data-i18n="hero.card.li3">Transformo dados em indicadores e decis√µes</li>
      </ul>
    </div>
  </header>

  <!-- PROJECTS -->
  <section id="projects">
    <div class="container">
      <h2 class="section-title" data-i18n="projects.title">Projetos em destaque</h2>
      <div id="projectsGrid" class="grid"></div>
    </div>
  </section>

  <!-- ABOUT -->
  <section id="about">
    <div class="container">
      <h2 class="section-title" data-i18n="about.title">Sobre mim</h2>

    <p class="section-sub" data-i18n="about.sub">
      Profissional de TI com mais de 10 anos de experi√™ncia, sendo os √∫ltimos focados em IA generativa,
      automa√ß√µes e integra√ß√µes de sistemas. Atuo no desenvolvimento e otimiza√ß√£o de fluxos conversacionais,
      cria√ß√£o de prompts avan√ßados para gera√ß√£o de c√≥digo em Python e ajustes de LLMs para respostas
      coerentes e criativas. Com viv√™ncia s√≥lida em infraestrutura e suporte t√©cnico, mantenho sempre o foco
      em resultados mensur√°veis e ganhos operacionais, entregando solu√ß√µes escal√°veis que impulsionam
      a efici√™ncia.
    </p>

      <div class="grid">
        <div class="card" style="padding:18px">
          <h3 data-i18n="about.h.skills">Principais habilidades</h3>
          <ul class="muted">
            <li data-i18n="about.li1">Prompt engineering e estrat√©gia de IA</li>
            <li data-i18n="about.li2">Desenho e otimiza√ß√£o de fluxos conversacionais</li>
            <li data-i18n="about.li3">Integra√ß√£o de APIs e automa√ß√µes de processos</li>
            <li data-i18n="about.li4">Gera√ß√£o e ajuste de c√≥digo Python via IA</li>
            <li data-i18n="about.li5">Dashboards e indicadores para tomada de decis√£o</li>
          </ul>
        </div>

        <div class="card" style="padding:18px">
          <h3 data-i18n="about.h.values">Valores</h3>
          <p class="muted" data-i18n="about.values">
            Acredito que tecnologia deve servir √† experi√™ncia humana, priorizando simplicidade, velocidade e clareza
            na entrega. Meu objetivo √© gerar impacto real por meio de solu√ß√µes inteligentes, escal√°veis e focadas no usu√°rio.
          </p>
        </div>

        <div class="card" style="padding:18px">
          <h3 data-i18n="about.h.stack">Stack</h3>
          <p class="muted" data-i18n="about.stack">
            Python, Flask, HTML/CSS/JS, REST APIs, LLMs (OpenAI, Gemini), SQLite, Metabase, integra√ß√£o com sistemas corporativos.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- CAREER -->
  <section id="career">
    <div class="container">
      <h2 class="section-title" data-i18n="career.title">Carreira</h2>

      <div class="timeline">

        <!-- Hi Platform -->
        <div class="t-item">
          <div class="t-title">
            Hi Platform ‚Äî <span class="muted">
              <span data-i18n="career.hi.role">Analista de Customer Care</span> | 
              <span data-i18n="career.hi.period">2021‚ÄìAtual</span>
            </span>
          </div>
          <div class="t-sub" data-i18n="career.hi.sum">
            IA generativa aplicada a rotinas, otimiza√ß√£o de fluxos de chatbot, integra√ß√µes via API e desenvolvimento de solu√ß√µes internas para automa√ß√£o e analytics.
          </div>
          <ul class="muted" style="margin-top:8px; padding-left:18px">
            <li data-i18n="career.hi.li1">Cria√ß√£o e manuten√ß√£o de fluxos conversacionais otimizados para bots e assistentes virtuais.</li>
            <li data-i18n="career.hi.li2">Automatiza√ß√£o de processos internos, reduzindo tempo de execu√ß√£o e erros operacionais.</li>
            <li data-i18n="career.hi.li3">Dashboards e relat√≥rios customizados para acompanhamento de m√©tricas.</li>
          </ul>
        </div>

        <!-- Grupo Semar -->
        <div class="t-item">
          <div class="t-title">
            Grupo Semar ‚Äî <span class="muted">
              <span data-i18n="career.semar.role">T√©cnico de TI</span> |
              <span data-i18n="career.semar.period">2018‚Äì2021</span>
            </span>
          </div>
          <div class="t-sub" data-i18n="career.semar.sum">
            Suporte a infraestrutura de TI e implanta√ß√£o de ferramentas para agilizar workflows e automatizar tarefas manuais.
          </div>
          <ul class="muted" style="margin-top:8px; padding-left:18px">
            <li data-i18n="career.semar.li1">Atendimento e suporte t√©cnico a usu√°rios e sistemas corporativos.</li>
            <li data-i18n="career.semar.li2">Implanta√ß√£o de solu√ß√µes que reduziram etapas manuais em processos internos.</li>
            <li data-i18n="career.semar.li3">Manuten√ß√£o preventiva e corretiva de equipamentos e redes.</li>
          </ul>
        </div>

        <!-- Forma√ß√£o -->
        <div class="t-item">
          <div class="t-title" data-i18n="career.edu.title">Forma√ß√£o Acad√™mica</div>
          <ul class="muted" style="margin-top:8px; padding-left:18px">
            <li data-i18n="career.edu.li1">MBA em Gest√£o da Qualidade de Software.</li>
            <li data-i18n="career.edu.li2">MBA em Intelig√™ncia Artificial & Big Data (em andamento).</li>
          </ul>
        </div>

      </div>
    </div>
  </section>

  <!-- CONTACT -->
  <section id="contact">
    <div class="container">
      <h2 class="section-title" data-i18n="contact.title">Contato</h2>

      <div class="grid">
        <!-- Email -->
        <article class="card" style="padding:18px;display:flex;flex-direction:column">
          <div style="display:flex;align-items:center;gap:12px;margin-bottom:8px">
            <div class="contact-icon">üìß</div>
            <h3 style="margin:0" data-i18n="contact.email.title">Me envie um e-mail</h3>
          </div>
          <p class="muted" data-i18n="contact.email.desc">Clique abaixo para abrir seu cliente de e-mail.</p>
          <div class="actions" style="margin-top:auto;padding:0">
            <a class="btn primary" href="mailto:carloshegomes@outlook.com" data-i18n="contact.email.cta" style="width:100%;justify-content:center">
              carloshegomes@outlook.com
            </a>
          </div>
        </article>

        <!-- WhatsApp -->
        <article class="card" style="padding:18px;display:flex;flex-direction:column">
          <div style="display:flex;align-items:center;gap:12px;margin-bottom:8px">
            <div class="contact-icon">üí¨</div>
            <h3 style="margin:0" data-i18n="contact.whatsapp.title">Me chame no WhatsApp</h3>
          </div>
          <p class="muted" data-i18n="contact.whatsapp.desc">Converse comigo diretamente pelo app.</p>
          <div class="actions" style="margin-top:auto;padding:0">
            <a class="btn" href="https://wa.me/5511981648739" target="_blank" rel="noopener" data-i18n="contact.whatsapp.cta" style="width:100%;justify-content:center;background:#25D366;border-color:transparent;color:#001">
              +55 11 98164-8739
            </a>
          </div>
        </article>

        <!-- LinkedIn -->
        <article class="card" style="padding:18px;display:flex;flex-direction:column">
          <div style="display:flex;align-items:center;gap:12px;margin-bottom:8px">
            <div class="contact-icon">üîó</div>
            <h3 style="margin:0" data-i18n="contact.linkedin.title">Me envie uma mensagem no LinkedIn</h3>
          </div>
          <p class="muted" data-i18n="contact.linkedin.desc">Acesse meu perfil profissional.</p>
          <div class="actions" style="margin-top:auto;padding:0">
            <a class="btn" href="https://www.linkedin.com/in/carlos-he-gomes" target="_blank" rel="noopener" data-i18n="contact.linkedin.cta" style="width:100%;justify-content:center;background:#0077B5;border-color:transparent">
              linkedin.com/in/carlos-he-gomes
            </a>
          </div>
        </article>
      </div>
    </div>
  </section>

  <!-- MODAL (projetos) -->
  <div id="previewModal" style="position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.55);z-index:9998">
    <div style="width:min(1100px,95vw);height:min(80vh,900px);background:#0b1020;border:1px solid #ffffff22;border-radius:16px;box-shadow:0 20px 60px #00000066;display:flex;flex-direction:column;overflow:hidden">
      <div style="display:flex;align-items:center;justify-content:space-between;padding:10px 12px;border-bottom:1px solid #ffffff22;background:#121a3f88">
        <strong id="modalTitle" style="color:#e6ecff">Preview</strong>
        <div style="display:flex;gap:8px">
          <a id="modalOpenTab" class="btn" style="text-decoration:none;padding:8px 12px;border-radius:10px;border:1px solid #ffffff22;background:#ffffff10;color:#e6ecff" target="_blank" data-i18n="btn.openNewTab">Abrir em nova aba</a>
          <button type="button" onclick="closePreview()" class="btn" style="padding:8px 12px;border-radius:10px;border:1px solid #ffffff22;background:#ffffff10;color:#e6ecff" data-i18n="btn.close">Fechar</button>
        </div>
      </div>
      <iframe id="modalFrame" src="" style="flex:1;border:0;background:#000"></iframe>
    </div>
  </div>

  <footer class="footer-full" role="contentinfo">
    <div class="ff-col">
      <div class="ff-actions">
        <button id="toTopBtn" class="btn ghost" type="button" aria-label="Back to top">‚Üë Topo</button>
        <button id="themeBtnFooter" class="btn" aria-label="Theme">üåô</button>
      </div>

      <div class="footer-full__inner">
        <div class="ff-col">
          <div class="brand"></div>
          <p class="ff-copy">¬© <span id="year"></span> ‚Ä¢ Carlos Gomes</p>
        </div>
      </div>
    </div>
  </footer>

  <!-- MOBILE MENU MODAL -->
  <div id="mobileMenu" aria-hidden="true" role="dialog" aria-label="Menu">
    <div class="m-sheet">
      <div class="m-header">
        <div class="brand"><span class="dot"></span><strong>Carlos Gomes</strong></div>
        <button id="menuClose" class="btn" aria-label="Fechar menu">‚úï</button>
      </div>
      <div class="m-content">
        <nav class="m-links" aria-label="Navega√ß√£o m√≥vel">
          <a href="#home" class="m-item" data-i18n="nav.home">In√≠cio</a>
          <a href="#about" class="m-item" data-i18n="nav.about">Sobre mim</a>
          <a href="#career" class="m-item" data-i18n="nav.career">Carreira</a>
          <a href="#contact" class="m-item" data-i18n="nav.contact">Contato</a>
        </nav>
        <div class="m-controls">
          <button id="langBtnMobile" class="btn ghost" aria-label="Language">EN</button>
          <button id="themeBtnMobile" class="btn" aria-label="Theme">üåô</button>
          <a class="btn primary" href="#projects" data-i18n="cta.viewProjects">Ver projetos</a>
        </div>
      </div>
    </div>
  </div>

  <script>
    /* =========================
       NAV HIGHLIGHT + YEAR
    ==========================*/
    const links = document.querySelectorAll('.nav-link');
    const sections = [...document.querySelectorAll('section, header')];
    const obs = new IntersectionObserver(entries => {
      entries.forEach(e => {
        if (e.isIntersecting) {
          links.forEach(l=>l.classList.remove('active'));
          const id = e.target.getAttribute('id');
          const active = document.querySelector(`.nav a[href="#${id}"]`);
          if(active) active.classList.add('active');
        }
      });
    }, {rootMargin:'-40% 0px -50% 0px', threshold: .1});
    sections.forEach(s=>obs.observe(s));

    const yearEl = document.getElementById('year');
    if (yearEl) yearEl.textContent = new Date().getFullYear();

    /* =========================
       THEME (sincronizado)
    ==========================*/
    const themeBtn = document.getElementById('themeBtn');
    const themeBtnFooter = document.getElementById('themeBtnFooter');
    const themeBtnMobile = document.getElementById('themeBtnMobile');

    const savedTheme = localStorage.getItem('theme');
    if(savedTheme === 'light'){ document.body.classList.add('light'); }
    function setThemeLabels(){
      const isLight = document.body.classList.contains('light');
      const icon = isLight ? 'üåô' : '‚òÄÔ∏è';
      [themeBtn, themeBtnFooter, themeBtnMobile].forEach(b=> b && (b.textContent = icon));
    }
    function toggleTheme(){
      document.body.classList.toggle('light');
      localStorage.setItem('theme', document.body.classList.contains('light') ? 'light' : 'dark');
      setThemeLabels();
    }
    setThemeLabels();
    [themeBtn, themeBtnFooter, themeBtnMobile].forEach(b=> b && b.addEventListener('click', toggleTheme));

    /* =========================
       i18n dicion√°rio completo
    ==========================*/
    const i18n = {
      pt:{
        "nav.home":"In√≠cio","nav.projects":"Projetos","nav.about":"Sobre mim","nav.career":"Carreira","nav.contact":"Contato",
        "cta.viewProjects":"Ver projetos",
        "hero.tag":"IA Generativa ‚Ä¢ Automa√ß√£o ‚Ä¢ Integra√ß√µes",
        "hero.title":"Crio solu√ß√µes de IA e automa√ß√£o que simplificam opera√ß√µes e geram impacto real.",
        "hero.subtitle":"Especialista em engenharia de prompts e desenho de fluxos com IA ‚Äî foco em ganhos operacionais, experi√™ncia do cliente e escalabilidade.",
        "hero.btnCvPt":"üìÑ Baixar CV (PT)","hero.btnCvEn":"üìÑ Download CV (EN)",
        "m.years":"anos em TI","m.gain":"redu√ß√£o m√©dia de tempo","m.focus":"foco em impacto",
        "hero.card.title":"O que eu fa√ßo",
        "hero.card.li1":"Automatizo processos com IA generativa e APIs",
        "hero.card.li2":"Desenho fluxos de bots, qualidade e onboarding",
        "hero.card.li3":"Transformo dados em indicadores e decis√µes",
        "projects.title":"Projetos em destaque",
        "projects.sub":"Ordenados por valor de mercado: IA & Qualidade ‚Üí BI ‚Üí Onboarding ‚Üí Bots ‚Üí Opera√ß√£o.",
        "p.qa.desc":"Assistente generativo para auditoria de intera√ß√µes, com an√°lise de sentimento, checklist e recomenda√ß√µes acion√°veis.",
        "p.bi.desc":"Plataforma de BI fim a fim com ingest√£o via APIs, transforma√ß√£o e dashboards em tempo quase real ‚Äî substituindo solu√ß√µes terceiras.",
        "p.onb.desc":"Portal interativo com formul√°rios din√¢micos, etapas guiadas e personaliza√ß√£o visual para acelerar a ativa√ß√£o de clientes.",
        "p.bot.desc":"Orquestrador visual para importar/editar/exportar fluxos de decis√£o com suporte multi-plataforma e agrupamentos.",
        "p.vac.desc":"Gest√£o de f√©rias/folgas com calend√°rio global, regras por squads e pain√©is para opera√ß√µes.",
        "p.chm.desc":"Monitoramento de risco de churn, planos de a√ß√£o e indicadores visuais para times de sucesso do cliente.",
        "p.api.desc":"Cole√ß√£o de APIs para automa√ß√µes: OCR, valida√ß√µes, formata√ß√£o e integra√ß√µes.",
        "about.title":"Sobre mim",
        "about.sub":"Profissional de TI com foco em IA Generativa, Automa√ß√£o e Integra√ß√µes. N√£o me defino como programador ‚Äî meu forte √© engenharia de prompts e orquestra√ß√£o de solu√ß√µes com IA.",
        "about.h.skills":"Principais habilidades",
        "about.li1":"Prompt engineering e estrat√©gia de IA","about.li2":"Desenho de fluxos (bots, onboarding, qualidade)","about.li3":"Integra√ß√£o de APIs e automa√ß√µes","about.li4":"Transformar dados em decis√µes (dashboards/indicadores)",
        "about.h.values":"Valores","about.values":"Tecnologia deve servir √† experi√™ncia humana ‚Äî simplicidade, velocidade e clareza na entrega.",
        "career.title":"Carreira",
        "career.hi":"IA generativa em rotinas, otimiza√ß√£o de fluxos de chatbot, integra√ß√µes via API, e solu√ß√µes internas de automa√ß√£o e analytics.",
        "career.semar":"Suporte a infraestrutura, implanta√ß√£o de ferramentas para agilizar workflows e automatizar tarefas manuais.",
        "contact.title":"Contato","contact.send":"Enviar mensagem","contact.note":"Este formul√°rio √© um mock. Personalize a a√ß√£o via e-mail/API.",
        "btn.page":"P√°gina","btn.example":"Abrir exemplo","btn.openNewTab":"Abrir em nova aba","btn.close":"Fechar",
        "career.hi.role": "Analista de Customer Care",
        "career.hi.period": "2021‚ÄìAtual",
        "career.hi.sum": "IA generativa aplicada a rotinas, otimiza√ß√£o de fluxos de chatbot, integra√ß√µes via API e desenvolvimento de solu√ß√µes internas para automa√ß√£o e analytics.",
        "career.hi.li1": "Cria√ß√£o e manuten√ß√£o de fluxos conversacionais otimizados para bots e assistentes virtuais.",
        "career.hi.li2": "Automatiza√ß√£o de processos internos, reduzindo tempo de execu√ß√£o e erros operacionais.",
        "career.hi.li3": "Dashboards e relat√≥rios customizados para acompanhamento de m√©tricas.",
        "career.semar.role": "T√©cnico de TI",
        "career.semar.period": "2018‚Äì2021",
        "career.semar.sum": "Suporte a infraestrutura de TI e implanta√ß√£o de ferramentas para agilizar workflows e automatizar tarefas manuais.",
        "career.semar.li1": "Atendimento e suporte t√©cnico a usu√°rios e sistemas corporativos.",
        "career.semar.li2": "Implanta√ß√£o de solu√ß√µes que reduziram etapas manuais em processos internos.",
        "career.semar.li3": "Manuten√ß√£o preventiva e corretiva de equipamentos e redes.",
        "career.edu.title": "Forma√ß√£o Acad√™mica",
        "career.edu.li1": "MBA em Gest√£o da Qualidade de Software.",
        "career.edu.li2": "MBA em Intelig√™ncia Artificial & Big Data (em andamento).",
        "about.h.stack": "Stack",
        "about.stack": "Python, Flask, HTML/CSS/JS, REST APIs, LLMs (OpenAI, Gemini), SQLite, Metabase, integra√ß√£o com sistemas corporativos.",
        "contact.email.title": "Me envie um e-mail",
        "contact.email.desc": "Clique abaixo para abrir seu cliente de e-mail.",
        "contact.email.cta": "carloshegomes@outlook.com",
        "contact.whatsapp.title": "Me chame no WhatsApp",
        "contact.whatsapp.desc": "Converse comigo diretamente pelo app.",
        "contact.whatsapp.cta": "+55 11 98164-8739",
        "contact.linkedin.title": "Me envie uma mensagem no LinkedIn",
        "contact.linkedin.desc": "Acesse meu perfil profissional.",
        "contact.linkedin.cta": "linkedin.com/in/carlos-he-gomes"
      },
      en:{
        "nav.home":"Home","nav.projects":"Projects","nav.about":"About","nav.career":"Career","nav.contact":"Contact",
        "cta.viewProjects":"View projects",
        "hero.tag":"Generative AI ‚Ä¢ Automation ‚Ä¢ Integrations",
        "hero.title":"I build AI & automation solutions that simplify operations and drive real impact.",
        "hero.subtitle":"Prompt-engineering specialist designing AI-powered flows ‚Äî focused on operational gains, customer experience and scale.",
        "hero.btnCvPt":"üìÑ Download CV (PT)","hero.btnCvEn":"üìÑ Download CV (EN)",
        "m.years":"years in IT","m.gain":"average time reduction","m.focus":"impact-driven",
        "hero.card.title":"What I do",
        "hero.card.li1":"Automate processes with GenAI and APIs",
        "hero.card.li2":"Design flows for bots, quality and onboarding",
        "hero.card.li3":"Turn data into indicators & decisions",
        "projects.title":"Featured Projects",
        "projects.sub":"Ordered by market value: Quality & AI ‚Üí BI ‚Üí Onboarding ‚Üí Bots ‚Üí Ops.",
        "p.qa.desc":"Generative assistant to audit interactions with sentiment, checklist and actionable recommendations.",
        "p.bi.desc":"End-to-end BI platform with API ingestion, transforms and near real-time dashboards ‚Äî replacing third-party tools.",
        "p.onb.desc":"Interactive portal with dynamic forms, guided steps and branding to accelerate client activation.",
        "p.bot.desc":"Visual orchestrator to import/edit/export decision flows with multi-platform support and grouping.",
        "p.vac.desc":"Vacation/leave management with global calendar, squad rules and ops dashboards.",
        "p.chm.desc":"Churn-risk monitoring, action plans and visual indicators for customer success teams.",
        "p.api.desc":"API collection for automation: OCR, validations, formatting and integrations.",
        "about.title":"About me",
        "about.sub":"IT professional focused on GenAI, Automation and Integrations. I don‚Äôt label myself a programmer ‚Äî my strength is prompt engineering and AI orchestration.",
        "about.h.skills":"Key skills",
        "about.li1":"Prompt engineering & AI strategy","about.li2":"Flow design (bots, onboarding, quality)","about.li3":"API integration & automations","about.li4":"Turning data into decisions (dashboards/KPIs)",
        "about.h.values":"Values","about.values":"Tech must enhance the human experience ‚Äî clarity, speed and simplicity.",
        "career.title":"Career",
        "career.hi":"GenAI in routines, chatbot flow optimization, API integrations, internal automation & analytics solutions.",
        "career.semar":"Infrastructure support, tool adoption to speed workflows and automate manual tasks.",
        "contact.title":"Contact","contact.send":"Send message","contact.note":"This form is a mock. Hook it to email/API as needed.",
        "btn.page":"Page","btn.example":"Open example","btn.openNew Tab":"Open in new tab","btn.close":"Close",
        "career.hi.role": "Customer Care Analyst",
        "career.hi.period": "2021‚ÄìPresent",
        "career.hi.sum": "Generative AI applied to routines, chatbot flow optimization, API integrations, and internal solutions for automation and analytics.",
        "career.hi.li1": "Design and maintenance of optimized conversational flows for bots and virtual assistants.",
        "career.hi.li2": "Process automation to reduce execution time and operational errors.",
        "career.hi.li3": "Custom dashboards and reports for metric tracking.",
        "career.semar.role": "IT Technician",
        "career.semar.period": "2018‚Äì2021",
        "career.semar.sum": "IT infrastructure support and tool adoption to speed workflows and automate manual tasks.",
        "career.semar.li1": "Technical support to users and corporate systems.",
        "career.semar.li2": "Implementation of solutions that reduced manual steps in internal processes.",
        "career.semar.li3": "Preventive and corrective maintenance of equipment and networks.",
        "career.edu.title": "Education",
        "career.edu.li1": "MBA in Software Quality Management.",
        "career.edu.li2": "MBA in Artificial Intelligence & Big Data (in progress).",
        "about.h.stack": "Stack",
        "about.stack": "Python, Flask, HTML/CSS/JS, REST APIs, LLMs (OpenAI, Gemini), SQLite, Metabase, corporate systems integration.",
        "contact.email.title": "Send me an email",
        "contact.email.desc": "Click below to open your email client.",
        "contact.email.cta": "carloshegomes@outlook.com",
        "contact.whatsapp.title": "Message me on WhatsApp",
        "contact.whatsapp.desc": "Chat with me directly in the app.",
        "contact.whatsapp.cta": "+55 11 98164-8739",
        "contact.linkedin.title": "Send me a message on LinkedIn",
        "contact.linkedin.desc": "Visit my professional profile.",
        "contact.linkedin.cta": "linkedin.com/in/carlos-he-gomes"
      }
    };

    /* =========================
       Idioma (sincronizado)
    ==========================*/
    let currentLang = localStorage.getItem('lang') || (navigator.language?.startsWith('pt') ? 'pt' : 'en');
    const langBtn = document.getElementById('langBtn');
    const langBtnMobile = document.getElementById('langBtnMobile');

    function applyLang(lang){
      document.documentElement.lang = lang === 'pt' ? 'pt-BR' : 'en';
      if (langBtn) langBtn.textContent = lang === 'pt' ? 'EN' : 'PT';
      if (langBtnMobile) langBtnMobile.textContent = lang === 'pt' ? 'EN' : 'PT';
      document.querySelectorAll('[data-i18n]').forEach(el=>{
        const key = el.dataset.i18n;
        if(i18n[lang] && i18n[lang][key]) el.textContent = i18n[lang][key];
      });
      localStorage.setItem('lang', lang);
      currentLang = lang;
      renderProjects(); // re-render cards conforme idioma
    }
    function initLang(){ applyLang(currentLang); }
    initLang();
    [langBtn, langBtnMobile].forEach(b => b && b.addEventListener('click', ()=> applyLang(currentLang === 'pt' ? 'en' : 'pt')));

    /* =========================
       Projetos (render robusto)
    ==========================*/
    function getLangSafe(){
      try { return localStorage.getItem('lang') || (navigator.language?.startsWith('pt') ? 'pt' : 'en'); }
      catch(_) { return 'pt'; }
    }

    const PROJECTS = [
      { slug:'quality-ai', title:'Quality AI Assistant', pill:'AI ‚Ä¢ Quality ‚Ä¢ CX',
        desc_pt:'Assistente generativo para auditoria de intera√ß√µes, com an√°lise de sentimento e recomenda√ß√µes.',
        desc_en:'Generative assistant for auditing interactions with sentiment and recommendations.',
        chips:['Python','OpenAI','APIs'] },
      { slug:'bi-analytics', title:'BI Analytics Platform', pill:'BI ‚Ä¢ Analytics',
        desc_pt:'Plataforma de BI com ingest√£o via APIs e dashboards quase em tempo real.',
        desc_en:'BI platform with API ingestion and near real-time dashboards.',
        chips:['Python','Flask','Metabase'] },
      { slug:'onboarding', title:'Customer Onboarding Portal', pill:'Onboarding ‚Ä¢ UX',
        desc_pt:'Portal com formul√°rios din√¢micos, etapas guiadas e personaliza√ß√£o visual.',
        desc_en:'Portal with dynamic forms, guided steps and branding.',
        chips:['Flask','HTML','CSS/JS'] },
      { slug:'botflow', title:'BotFlow Orchestrator', pill:'Bots ‚Ä¢ Flows',
        desc_pt:'Orquestrador visual para fluxos multi-plataforma com import/export.',
        desc_en:'Visual orchestrator with multi-platform import/export.',
        chips:['Python','Draw.io/YEd','Connectors'] },
      { slug:'vacation', title:'Vacation & Leave Manager', pill:'Ops ‚Ä¢ HR',
        desc_pt:'Gest√£o de f√©rias/folgas com calend√°rio global, regras por squads e pain√©is.',
        desc_en:'Vacation/leave management with global calendar, squad rules and dashboards.',
        chips:['Python','Flask','HTML/CSS'] },
      { slug:'client-health', title:'Client Health Monitor', pill:'CS ‚Ä¢ Retention',
        desc_pt:'Risco de churn, plano de a√ß√£o e indicadores visuais.',
        desc_en:'Churn risk, action plan and visual indicators.',
        chips:['Python','Flask','JSON'] },
      { slug:'utility-apis', title:'Utility APIs', pill:'Ops ‚Ä¢ APIs',
        desc_pt:'Cole√ß√£o de APIs para automa√ß√µes: OCR, valida√ß√µes, formata√ß√£o e integra√ß√µes.',
        desc_en:'API collection for automation: OCR, validations, formatting and integrations.',
        chips:['Python','Flask','REST'] }
    ];

    function projectCard(p){
      const lang = getLangSafe();
      const desc = lang === 'pt' ? p.desc_pt : p.desc_en;
      const thumbPath = `projects/${p.slug}/thumbnail.png`;
      // Tenta pegar label traduzido; se n√£o existir, usa fallback seguro.
      const btnText = (i18n[lang]?.['btn.example']) || (lang === 'pt' ? 'Abrir exemplo' : 'Open example');
      return `
        <article class="card">
          <div class="thumb" aria-hidden="true">
            <img src="${thumbPath}" alt="${p.title}" loading="lazy"
                 onerror="this.closest('.thumb').innerHTML='<svg width=96 height=96 viewBox=\\'0 0 24 24\\' fill=\\'none\\'><path d=\\'M4 6h16M4 12h16M4 18h16\\' stroke=\\'white\\' opacity=\\.8 stroke-width=\\'2\\'/></svg>';">
          </div>
          <div class="content">
            <span class="pill">${p.pill}</span>
            <h3>${p.title}</h3>
            <p class="desc">${desc}</p>
            <div class="chips">${p.chips.map(c=>`<span class="chip">${c}</span>`).join('')}</div>
          </div>
          <div class="actions">
            <button class="btn primary" onclick="openPreview('${p.title}','${p.slug}')">${btnText}</button>
          </div>
        </article>`;
    }

    function renderProjects(){
      try{
        const grid = document.getElementById('projectsGrid');
        if(!grid) return;
        grid.innerHTML = PROJECTS.map(projectCard).join('');
      }catch(err){
        console.error('Erro ao renderizar projetos:', err);
      }
    }
    document.addEventListener('DOMContentLoaded', renderProjects);

    /* =========================
       Preview (projetos)
    ==========================*/
    function closePreview(){
      const m = document.getElementById('previewModal');
      const f = document.getElementById('modalFrame');
      if (!m) return;
      m.style.display = 'none';
      f.src = '';
      document.body.style.overflow = '';
      window.removeEventListener('keydown', __escClosePreview);
      m.removeEventListener('click', __backdropClosePreview);
    }
    function __escClosePreview(e){ if(e.key === 'Escape') closePreview(); }
    function __backdropClosePreview(e){ if(e.target.id === 'previewModal') closePreview(); }

    async function openPreview(title, slug){
      const m = document.getElementById('previewModal');
      const f = document.getElementById('modalFrame');
      const t = document.getElementById('modalTitle');
      const a = document.getElementById('modalOpenTab');
      t.textContent = title || 'Preview';

      const v = Date.now();
      const base = `projects/${slug}`;
      const exampleURL  = `${base}/example.html?v=${v}`;
      const embeddedURL = `${base}/embedded.html?v=${v}`;

      async function resolveUrl(u){
        try{ const r = await fetch(u, { method: 'GET', cache: 'no-store' }); return r.ok ? u : null; }
        catch(_){ return null; }
      }
      const url = (await resolveUrl(exampleURL)) || (await resolveUrl(embeddedURL)) || embeddedURL;

      f.src = url;
      a.href = url;

      m.style.display = 'flex';
      document.body.style.overflow = 'hidden';

      window.addEventListener('keydown', __escClosePreview);
      m.addEventListener('click', __backdropClosePreview);
    }
    window.closePreview = closePreview;
    window.openPreview = openPreview;

    /* =========================
       Footer: Topo
    ==========================*/
    function scrollTopSmooth(){
  const root = document.scrollingElement || document.documentElement || document.body;
  const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
  try{
    root.scrollTo({ top: 0, behavior: prefersReduced ? 'auto' : 'smooth' });
  }catch(_){
    // fallback bem amplo
    root.scrollTop = 0;
    document.body.scrollTop = 0;
  }
}

const toTopBtn = document.getElementById('toTopBtn');
toTopBtn?.addEventListener('click', (e)=>{
  e.preventDefault();
  scrollTopSmooth();
});

    /* =========================
       MENU MOBILE
    ==========================*/
    const mobileMenu = document.getElementById('mobileMenu');
    const menuBtn = document.getElementById('menuBtn');
    const menuClose = document.getElementById('menuClose');

    function openMenu(){
      mobileMenu.setAttribute('aria-hidden', 'false');
      document.body.style.overflow = 'hidden';
      window.addEventListener('keydown', onMenuEsc);
      mobileMenu.addEventListener('click', onMenuBackdrop);
      menuClose?.focus();
    }
    function closeMenu(){
      mobileMenu.setAttribute('aria-hidden', 'true');
      document.body.style.overflow = '';
      window.removeEventListener('keydown', onMenuEsc);
      mobileMenu.removeEventListener('click', onMenuBackdrop);
      menuBtn?.focus();
    }
    function onMenuEsc(e){ if (e.key === 'Escape') closeMenu(); }
    function onMenuBackdrop(e){ if (e.target === mobileMenu) closeMenu(); }

    menuBtn?.addEventListener('click', openMenu);
    menuClose?.addEventListener('click', closeMenu);
    document.querySelectorAll('#mobileMenu .m-links a').forEach(a=>{
      a.addEventListener('click', closeMenu);
    });

    /* =========================
       Sincroniza applyLang
    ==========================*/
    const _applyLangRef = applyLang;
    applyLang = function(lang){
      _applyLangRef(lang);
      // r√≥tulos dos bot√µes de idioma (header e menu m√≥vel) j√° atualizados dentro de applyLang
      renderProjects(); // refor√ßo
    };
  </script>
</body>
</html>



