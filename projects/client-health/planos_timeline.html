<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Timeline de Planos</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
</head>
<body class="bg-gray-100 min-h-screen p-6">

  {% include 'navbar.html' %}

  <h1 class="text-2xl font-bold mb-6">🕒 Timeline de Planos de Ação</h1>
  ⚠️ Essa visualização está em desenvolvimento, problemas podem ocorrer ⚠️
  <br>

  <div class="flex gap-4 mb-6">
    <a href="/planos" class="bg-blue-600 text-white px-4 py-2 rounded text-sm hover:bg-blue-700">📋 Lista</a>
    <a href="/planos/kanban" class="bg-yellow-500 text-white px-4 py-2 rounded text-sm hover:bg-yellow-600">🗂️ Kanban</a>
    <a href="/planos/timeline" class="bg-green-600 text-white px-4 py-2 rounded text-sm hover:bg-green-700">📅 Linha do Tempo</a>
  </div>

  <div class="relative border-l-2 border-gray-300 ml-4">
    {% for evento in eventos %}
    <div class="mb-8 ml-6" data-aos="fade-up" data-aos-duration="800">
      <div class="absolute w-3 h-3 bg-blue-500 rounded-full mt-1.5 -left-1.5 border border-white"></div>
      <div class="bg-white p-4 rounded-lg shadow-md">
        <p class="text-sm text-gray-500">{{ evento.criado_em[:10] }}</p>
        <h3 class="text-lg font-semibold text-blue-600">{{ evento.cliente_nome }}</h3>
        <p class="text-sm text-gray-700 mb-2">Plano: {{ evento.titulo_plano }}</p>
        <p class="text-sm text-gray-800"><strong>📋 Tarefa:</strong> {{ evento.tarefa }}</p>
        <p class="text-sm text-gray-800"><strong>👤 Responsável:</strong> {{ evento.responsavel }}</p>
        <p class="text-sm text-gray-800"><strong>📅 Prazo:</strong> {{ evento.prazo or 'Não definido' }}</p>
        <p class="text-sm text-gray-800"><strong>📌 Status:</strong> 
          {% if evento.status == 'Concluído' %}
            <span class="text-green-600 font-bold">{{ evento.status }}</span>
          {% elif evento.status == 'Em Andamento' %}
            <span class="text-blue-600 font-bold">{{ evento.status }}</span>
          {% else %}
            <span class="text-yellow-600 font-bold">{{ evento.status }}</span>
          {% endif %}
        </p>
        {% if evento.resultado %}
          <div class="bg-green-50 border border-green-200 p-2 rounded mt-2 text-sm text-green-800">
            <strong>Resultado:</strong> {{ evento.resultado }}
          </div>
        {% endif %}
      </div>
    </div>
    {% else %}
    <p class="text-center text-gray-400">Nenhum plano encontrado para exibir na timeline.</p>
    {% endfor %}
  </div>

  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    AOS.init();
  </script>

</body>
</html>
