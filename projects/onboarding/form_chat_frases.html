{% extends "layout.html" %}
{% block content %}
<h2>Etapa: Frases Rápidas do Chat</h2>

<p style="margin-bottom: 20px;">
  <strong>ℹ️ Explicação:</strong><br>
  As <strong>Frases Rápidas</strong> são utilizadas para facilitar o atendimento e possibilitar agilidade do operador.
  As respostas para as perguntas mais frequentes dos clientes podem ser cadastradas, assim como frases de agradecimento e despedida.<br>
  O operador pode utilizar essas frases, editá-las se necessário, e enviar ao cliente com rapidez.
</p>

<form method="post">
  <div id="frases-container">
    <!-- Primeira frase -->
    <div class="frase-bloco">
      <label>Categoria:<br>
        <input type="text" name="categoria_1" placeholder="Ex: Abertura" >
      </label>
      <label>Título da Frase:<br>
        <input type="text" name="titulo_1" placeholder="Ex: Saudação inicial" >
      </label>
      <label>Texto da Frase:<br>
        <textarea name="texto_1" rows="4" placeholder="Digite aqui o conteúdo da frase..." ></textarea>
      </label>
      <button type="button" onclick="removerFrase(this)">Remover Frase</button>
    </div>
  </div>

  <br>
  <button type="button" onclick="adicionarFrase()">+ Adicionar nova frase</button>
  <br><br>
  <button type="submit">Avançar →</button>
</form>

<style>
  .frase-bloco {
    padding: 20px;
    margin-bottom: 25px;
    border: 1px solid #ccc;
    background: #f8f8f8;
  }

  .frase-bloco label {
    display: block;
    margin-bottom: 10px;
  }

  .frase-bloco input[type="text"] {
    width: 100%;
    padding: 8px;
    font-size: 14px;
  }

  .frase-bloco textarea {
    width: 100%;
    padding: 8px;
    font-size: 14px;
    resize: vertical;
  }
</style>

<script>
  let fraseCount = 1;

  function adicionarFrase() {
    fraseCount++;
    const container = document.getElementById("frases-container");

    const div = document.createElement("div");
    div.classList.add("frase-bloco");

    div.innerHTML = `
      <label>Categoria:<br>
        <input type="text" name="categoria_${fraseCount}" placeholder="Ex: Informações">
      </label>
      <label>Título da Frase:<br>
        <input type="text" name="titulo_${fraseCount}" placeholder="Ex: Despedida educada">
      </label>
      <label>Texto da Frase:<br>
        <textarea name="texto_${fraseCount}" rows="4" placeholder="Digite aqui o conteúdo da frase..."></textarea>
      </label>
      <button type="button" onclick="removerFrase(this)">Remover Frase</button>
    `;

    container.appendChild(div);
  }

  function removerFrase(botao) {
    botao.closest(".frase-bloco").remove();
  }
</script>
{% endblock %}
